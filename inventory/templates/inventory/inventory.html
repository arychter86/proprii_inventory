{% extends 'inventory/base.html' %}
{% block content %}


<div class="container">
  <ol class="breadcrumb  brand-primary">
    <li class="breadcrumb-item"><a href="/">Inventory List</a></li>
    <li class="breadcrumb-item"><a href="/inventory/{{id}}/">Inventory {{id}}</a></li>
  </ol>
</div>

<div class="container">
  <div class="row">
    <div class="col-sm-5">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3>
            Inventory {{id}} </br><small>({{form.instance.created_date|date:"D, d-m-Y"}})</small>

          </h4>
        </div>
        <div class="panel-body">

          <form action="/inventory/{{id}}/" method="post" class="form-horizontal">
              {% csrf_token %}
              <div class="fieldWrapper">
                  <div class="row  form-group">
                      <label class="control-label  col-xs-3" for="id_name">Name:</label>
                      <div class="col-xs-9">
                        <div><span class="label label-danger">{{ form.name.errors.as_text }}</span></div>
                        <input class="form-control" type="text" name="name" value="{{form.name.value}}" maxlength="200" required id="id_name" />
                      </div>
                  </div>
              </div>
              <div class="fieldWrapper">
                  <div class="row form-group">
                      <label class="control-label col-xs-3" for="id_city">City:</label>
                      <div class="col-xs-9">
                        <input class="form-control" type="text" name="city" value="{{form.city.value}}" maxlength="200" required id="id_city" />
                      </div>
                  </div>
              </div>
              <div class="fieldWrapper">
                  <div class="row form-group">
                      <label class="control-label col-xs-3" for="id_street">Street:</label>
                      <div class="col-xs-9">
                        <div><span class="label label-danger">{{ form.street.errors.as_text }}</span></div>
                        <input class="form-control" type="text" name="street" value="{{form.street.value}}" maxlength="200" required id="id_street" />
                      </div>
                  </div>
              </div>
              <div class="fieldWrapper">
                  <div class="row form-group">

                      <label class="control-label col-xs-3" for="id_code">Code:</label>
                      <div class="col-xs-9">
                        <div><span class="label label-danger">{{ form.code.errors.as_text }}</span></div>
                        <input class="form-control" type="text" name="code" value="{{form.code.value}}" maxlength="200"  id="id_code" />
                      </div>
                  </div>
              </div>
              <div class="fieldWrapper">
                  <div class="row form-group">

                      <label class="control-label col-xs-3" for="id_client_name">Client name:</label>
                      <div class="col-xs-9">
                        <div><span class="label label-danger">{{ form.client_name.errors.as_text }}</span></div>
                        <input class="form-control" type="text" name="client_name" value="{{form.client_name.value}}" maxlength="200" required id="id_client_name" />
                      </div>
                  </div>
              </div>

              {{ form.created_date.as_hidden  }}
              <div class="form-group row">
                    <div class="offset-sm-6 col-sm-12">
                      <div class="btn-group btn-group-justified" role="group" aria-label="...">
                        <div class="btn-group" role="group">
                          <input type="submit" name="inventory" value="Submit" class="btn btn-success btn-lg" role="button"/>
                        </div>
                        {% if id  %}
                          <div class="btn-group" role="group">
                            <input type="submit" name="delete" value="Delete" class="btn btn-danger btn-lg" role="button"/>
                          </div>

                        {% endif %}
                        </div>

                    </div>
              </div>
          </form>
          <button  onClick=window.open("/inventory/{{id}}/table","Ratting","width=550,height=170,left=150,top=200,toolbar=0,status=0,") class="btn btn-info btn-sm btn-block" role="button"> Generate Table </button>

        </div>
      </div>
    </div>
    <div class="col-sm-7">

      <div class="panel panel-default">
        <div class="panel-heading">

          <h3>
            Number of trees: <b>{{trees.count }}</b>
          </h3>
        </div>
        <div class="panel-body">

                  {% for tree in trees %}
                      <div class="row">
                          <div class="col-xs-1 td_div"><b>{{tree.tree_number}}</b></div>
                          <div class="col-xs-4 td_div">{{tree.name}}</div>
                          <div class=" col-xs-2 td_div">{{tree.latin_name}}</div>
                          <div class="col-xs-5 td_div">
                            <div class="row" role="group" aria-label="...">
                              <div class="col-xs-8">
                                <form action="/inventory/{{id}}/tree/{{tree.id}}/" method="get">
                                  {% csrf_token %}
                                <button  class="btn btn-success btn-sm btn-block" role="button"> Edit </button>
                                </form>
                              </div>
                              <div class="col-xs-4">
                                <form action="/inventory/{{id}}/tree/{{tree.id}}/delete/" method="post">
                                    {% csrf_token %}
                                    <button name="delete" class="btn btn-danger btn-sm  btn-block" role="button">
                                       <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                                    </button>
                                </form>
                              </div>
                            </div>
                          </div>
                      </div>
                      <hr />
                  {% endfor %}


          {% if id  %}
              <a href="/inventory/{{id}}/tree/0/" class="btn btn-success btn-lg" role="button">Add Tree</a>
          {% endif %}


        </div>
      </div>
    </div>
  </div>
</div>


{% endblock content %}
